$(document).ready(function(){var oTable=$("#browseTable").dataTable({search:{regex:!0},ordering:!0,dom:"ilfrtp",info:!0,ajax:"/browse.json?flying=listeDocuments",serverSide:!0,lengthMenu:[15,1,3,5,10,25,50,100,200,500],language:{emptyTable:"Aucun document présent",lengthMenu:" _MENU_ Document(s) / page",search:"Rechercher:",zeroRecords:"Aucun résultat ...",info:"Il y a _TOTAL_ résultat(s)",infoFiltered:"( filtrés sur _MAX_ )",paginate:{previous:"Précédent",next:"Suivant"}},columns:[{data:"wid",visible:!1,searchable:!1},{data:"fields.validateSilence",visible:!1,searchable:!1},{data:"basename",className:"browseYear browseTd",searchable:!0},{data:"fields.title",className:"browseTitle browseTd",searchable:!0}],stateSave:!0,fnCreatedRow:function(row,td,index){var rowValue=oTable.fnGetData(index);if("yes"===rowValue.fields.validateSilence)$(row).attr("class","trValidate");else if("yes"===rowValue.fields.validatePertinence&&"no"===rowValue.fields.validateSilence){var ratioSilence=rowValue.progressSilenceKeywords?100*parseFloat(rowValue.progressSilenceKeywords)+"%":0;$(".browseTitle",row).css({background:"rgba(69,69,69,0.1",background:"-moz-linear-gradient(left, rgba(69,69,69,0.1) "+ratioSilence+", transparent "+ratioSilence+")",background:"-webkit-gradient(left top, right top, color-stop("+ratioSilence+", rgba(69,69,69,0.1), color-stop("+ratioSilence+", transparent)))",background:"-webkit-linear-gradient(left, rgba(69,69,69,0.1) "+ratioSilence+", transparent "+ratioSilence+")",background:"-o-linear-gradient(left, rgba(69,69,69,0.1) "+ratioSilence+", transparent "+ratioSilence+")",background:"-ms-linear-gradient(left, rgba(69,69,69,0.1) "+ratioSilence+", transparent "+ratioSilence+")",background:"linear-gradient(to right, rgba(69,69,69,0.1) "+ratioSilence+", transparent "+ratioSilence+")"})}else if("no"===rowValue.fields.validatePertinence){var ratioMethods=rowValue.progressNotedKeywords?rowValue.progressNotedKeywords:0;if(parseFloat(ratioMethods)>0){var ratioPertinence=100*parseFloat(ratioMethods)+"%";$(".browseTitle",row).css({background:"rgba(136,203,195,0.5)",background:"-moz-linear-gradient(left, rgba(136,203,195,0.5) "+ratioPertinence+", transparent "+ratioPertinence+")",background:"-webkit-gradient(left top, right top, color-stop("+ratioPertinence+", rgba(136,203,195,0.5)), color-stop("+ratioPertinence+", transparent)))",background:"-webkit-linear-gradient(left, rgba(136,203,195,0.5) "+ratioPertinence+", transparent "+ratioPertinence+")",background:"-o-linear-gradient(left, rgba(136,203,195,0.5) "+ratioPertinence+", transparent "+ratioPertinence+")",background:"-ms-linear-gradient(left, rgba(136,203,195,0.5) "+ratioPertinence+", transparent "+ratioPertinence+")",background:"linear-gradient(to right, rgba(136,203,195,0.5) "+ratioPertinence+", transparent "+ratioPertinence+")"})}}},fnDrawCallback:function(){$("tbody tr").on("click",function(){var position=oTable.fnGetPosition(this),docID=oTable.fnGetData(position);document.location.href="/display/"+docID.wid+".html"}).addClass("trBody")}}),thead=$("#menuThead");console.log("oTable",oTable),$("#browseChangeList").on("change",function(){"traites"==$(this).val()?(oTable.fnFilter("yes",1),localStorage.selecteur="traites"):"nonTraites"==$(this).val()?(oTable.fnFilter("no",1),localStorage.selecteur="nonTraites"):"tous"==$(this).val()&&(oTable.fnFilter("",1),localStorage.selecteur="tous")}),$("#guidesLink").on("click",function(){$("body").css("overflow","hidden").append("<div style='top: 0;background: rgba(204, 106, 99, 0.85); color : #f5f5f5 ; font-size: 41px;width: 100vw; height: 100vh;display: flex;justify-content: center;align-items: center; position: fixed;'><span class='infosQuit glyphicon glyphicon-remove'></span><div class='btn btn-default exportButtons' data-href='http://termith-anr.github.io/scripts-formats/guides/readme.pdf'>Manuel Idefix</div><div class='btn btn-default exportButtons' data-href='http://termith-anr.github.io/scripts-formats/guides/protocoleEvaluationSc2.pdf'>Protocole d'évaluation</div></div>")}),$(window).scroll(function(){$(this).scrollTop()>541?thead.addClass("fixedThead"):thead.removeClass("fixedThead")});var goToLocation=function(element){window.open(element.currentTarget.getAttribute("data-href"),"_blank")};if($("body").on("click",".exportButtons",goToLocation),$("#exportButton").on("click",function(){$("#exportMenu").css("display","flex"),$("body").css("overflow","hidden")}),$("body").on("click",".infosQuit",function(){console.log($(this).parent),$("body").css("overflow",""),$(this).parent().hide()}),$(".showInformations").on("click",function(){$(this).hasClass("currentlyShowingInfos")?($(".informations").hide(),$(this).removeClass("currentlyShowingInfos")):($(".informations").show(),$(this).addClass("currentlyShowingInfos"))}),$(".informations").on("click",function(){var id=$(this).attr("data-id");if($(".informations").css("z-index","0"),$("#contentDisplay").css("display","none"),$("#"+id+" .imgInfos").length)$("#"+id).css("display","flex");else for(var imgs=$("#"+id).attr("data-src").split("/;/"),i=0;i<imgs.length;i++)$("#"+id).prepend("<img src='"+imgs[i]+"' class='imgInfos'/>").delay(650).css("display","flex");$("body").css("overflow","hidden")}),$(".infosQuit").on("click",function(){$("body").css("overflow",""),$(".informationsContent").hide(),$(".informations").css("z-index","")}),localStorage.selecteur)switch(localStorage.selecteur){case"traites":$("#browseChangeList option")[1].selected=!0;break;case"nonTraites":$("#browseChangeList option")[2].selected=!0;break;case"tous":$("#browseChangeList option")[0].selected=!0}});